{
  "scenario_name": "14B_missing_fx_blocked",
  "description": "Advisory proposal blocks when funding FX pair is missing and block_on_missing_fx=true.",
  "proposal_inputs": {
    "portfolio_snapshot": {
      "portfolio_id": "pf_14b_3",
      "base_currency": "SGD",
      "positions": [],
      "cash_balances": [
        {
          "currency": "SGD",
          "amount": "10000"
        }
      ]
    },
    "market_data_snapshot": {
      "prices": [
        {
          "instrument_id": "US_EQ_ETF",
          "price": "100",
          "currency": "USD"
        }
      ],
      "fx_rates": []
    },
    "shelf_entries": [
      {
        "instrument_id": "US_EQ_ETF",
        "status": "APPROVED",
        "asset_class": "EQUITY"
      }
    ],
    "options": {
      "enable_proposal_simulation": true,
      "auto_funding": true,
      "funding_mode": "AUTO_FX",
      "fx_funding_source_currency": "ANY_CASH",
      "fx_generation_policy": "ONE_FX_PER_CCY",
      "block_on_missing_prices": true,
      "block_on_missing_fx": true
    },
    "proposed_cash_flows": [],
    "proposed_trades": [
      {
        "intent_type": "SECURITY_TRADE",
        "side": "BUY",
        "instrument_id": "US_EQ_ETF",
        "quantity": "1"
      }
    ]
  },
  "expected_proposal_output": {
    "status": "BLOCKED",
    "intents": [],
    "funding_plan": [
      {
        "target_currency": "USD"
      }
    ],
    "missing_fx_pairs": [
      "USD/SGD"
    ],
    "insufficient_cash": []
  }
}
